# ADR-001 架构重构总决策

## 背景
现有项目采用 Next.js 14 + React 18 + TypeScript + Tailwind，分层清晰但部分组件承载业务逻辑，构建与质量门禁需加强。

## 决策
- 坚持分层：interfaces/application/domain/infrastructure/shared 清晰边界。
- 逻辑下沉：业务流程下沉至 `application/usecases`，组件保持展示。
- 契约稳定：API 采用 `zod` 校验与统一错误模型，版本化迭代。
- 安全与可控：CSP/CSRF/CORS/RBAC/限流/幂等持续强化，供应链安全治理。

## 依据
- 质量与覆盖率基线稳定（Vitest）；安全头与中间件可控；依赖健康良好。

## 影响
- 组件结构重构、测试与契约补充；需要灰度发布与回滚策略配合。

## 备选方案
- 保持现状：不可满足长期可维护与安全目标。

## 结论
采用分阶段重构方案，在不影响业务的前提下提升质量、性能、可维护性。

