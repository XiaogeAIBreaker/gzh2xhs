# ADR 0001: 引入 ETag 缓存与并发栅栏

## 背景
生成与导出接口存在重复请求与潜在资源争用，需减少无效响应与控制并发。

## 决策
- 在服务端响应中加入 ETag，命中 If-None-Match 返回 304。
- 使用全局并发栅栏限制同一时刻的并行任务数量。
- 缓存 TTL 配置化，统一在 `appConfig.features.caching` 中管理。

## 影响
- 降低带宽与计算消耗；提高稳态与一致性。
- 引入轻量队列，避免资源峰值争用。

## 回滚策略
- 通过配置开关禁用 ETag 或调整并发上限；保留原路径以快速回滚。
