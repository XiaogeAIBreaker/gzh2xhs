## 改造目标

- 视觉基调：霓虹科幻、宇宙星海、玻璃拟态、动效丰富但不刺眼
- 体验目标：强沉浸背景、亮点按钮与卡片交互、生成与预览流畅酷炫
- 保持现有业务逻辑与 API 不变，只做 UI 和交互层升级

## 技术栈与依赖

- 保留 Next.js 14 + React 18 + Tailwind（已存在）
- 可选新增：`framer-motion`（高质量动效）、`lucide-react`（图标）、`tailwindcss-animate`（动效工具类）
- 若不加依赖也能完成：用 Tailwind + 原生 CSS keyframes 实现主要视觉与动效

## 全局主题与背景

- 修改 `src/app/globals.css`：
    - 定义主题 CSS 变量（主色、霓虹、玻璃、网格、星海）与关键帧 `twinkle/aurora/float/shine/gridMove`
    - 提供工具类：`.cosmic-bg`（多层星海/极光/网格）、`.glass-card`（玻璃拟态）、`.glow`（霓虹光晕）、`.shine-overlay`
- 更新 `tailwind.config.ts:9-18`：
    - `darkMode: 'class'`
    - `theme.extend` 增加 `colors`（neon/space）、`boxShadow`（外发光）、`backgroundImage`（星云/网格）、`keyframes` 与 `animation`（aurora/twinkle/shine）
- 新增 `src/components/CosmicBackground.tsx`：多图层背景（星星、流光、网格），绝对定位挂到 `body` 下
- 在 `src/app/layout.tsx:19-20`：
    - `html` 加 `class="dark"`（支持黑暗主题）
    - `body` 添加基础宇宙背景与安全内边距：`className="min-h-screen bg-neutral-950 text-neutral-100 relative overflow-hidden"`
    - 引入 `<CosmicBackground />`

## 布局与页面框架

- 在 `src/app/page.tsx:10-21`：
    - 将主容器换为居中自适应：`container mx-auto px-6 py-8`
    - 左右两栏加玻璃拟态与发光描边：左侧 `glass-card`、右侧画布外层 `glass-card glow`
    - 为主区域添加细微入场动效（如 `animate-[fade-in_600ms_ease-out]` 或 framer-motion）

## Sidebar（左栏）酷炫化

- 文件：`src/components/Sidebar.tsx`
    - 标题区：加入品牌副标题与霓虹描边，弱呼吸动画（不影响可读性）
    - 文本输入框：玻璃拟态背景、聚焦时高斯模糊 + 光晕边框；新增字数进度环（见下）
    - 模型选择与款式选择：改为高亮分段控件（segmented control，带图标与选中发光）
    - 生成/导出按钮：统一替换为 `GlowButton`（悬浮光带、点击波纹、禁用态微弱）
    - 错误提示：保持功能不变，样式改为警示霓虹卡片
- 新增组件：
    - `src/components/SegmentedControl.tsx`：受控分段选择，Tailwind 变体实现选中光晕
    - `src/components/ProgressRing.tsx`：SVG 圆环显示文案长度占比，超过阈值变色
    - `src/components/GlowButton.tsx`：通用发光按钮，支持 `loading/disabled/variant`

## Canvas（右栏）与卡片预览

- 文件：`src/components/Canvas.tsx`
    - 空状态：替换为宇宙插画（CSS 图形 + 文案），轻微上下浮动动画
    - 生成中：旋转加载改为“行星环绕”加载器（3~5 个小点环绕）
    - 网格：卡片容器添加玻璃底、悬浮轻微 3D 倾斜与高光掠过（shine overlay）
    - 文案区：卡片文案盒增加复制按钮发光 + 复制成功微动效
- 文件：`src/components/CardPreview.tsx`
    - 图片层：加入 `shine-overlay` 与 `group-hover:scale-105`；卡片外框 `shadow-neon`
    - 模态放大：背景模糊 + 颗粒噪点遮罩，图像边缘发光；保留现有下载按钮与交互

## 交互与动画策略

- 微动效优先：hover、active、focus 与入场/出场；避免持续过强动画
- 降噪设计：背景动画速度低且平滑；用户操作时优先响应速度
- 动效实现：
    - 无依赖版：Tailwind + CSS keyframes（aurora/twinkle/shine/float）
    - 加依赖版：`framer-motion` 用于入场/列表过渡与细腻过渡

## Tailwind 配置与样式清单

- `tailwind.config.ts`：
    - `extend.colors`: `space`, `neon`, `accent`
    - `extend.boxShadow`: `neon-sm/md/lg`（外发光）
    - `extend.animation/keyframes`: `aurora`, `twinkle`, `shine`, `float`, `gridMove`
- `globals.css`：
    - 变量：`--space-bg`, `--neon`, `--accent`
    - 类：`.cosmic-bg`, `.glass-card`, `.glow`, `.shine-overlay`, `.ring-progress`

## 可选增强（按需）

- 图标：`lucide-react`（轻量优雅）用于模型/样式按钮
- 粒子背景：后续如需更强可加入 `three` 或 `tsparticles`，现阶段先用 CSS 达到 80% 效果
- 声效：轻点按反馈（极轻音量），默认关闭，后续再评估

## 变更文件清单与定位

- `src/app/layout.tsx:19-20` 插入背景与主题 class，挂载 `CosmicBackground`
- `src/app/page.tsx:10-21` 重构容器与两栏样式，加入动效
- `src/app/globals.css` 新增变量、关键帧与工具类
- `tailwind.config.ts:9-18` 开启 `darkMode`、扩展主题与动效
- `src/components/Sidebar.tsx:36-154` 分段控件/进度环/按钮替换（不改业务）
- `src/components/Canvas.tsx:8-83` 空态/加载/网格样式升级
- `src/components/CardPreview.tsx:21-52,55-88` 预览卡与模态样式升级
- 新增文件：
    - `src/components/CosmicBackground.tsx`
    - `src/components/GlowButton.tsx`
    - `src/components/SegmentedControl.tsx`
    - `src/components/ProgressRing.tsx`

## 验证与回滚

- 运行开发环境，检查：
    - 首屏性能（CLS/LCP 感知）、动效流畅度与视觉一致性
    - 生成/导出流程不受影响
- 单测：组件渲染与关键交互快照（Vitest）
- 回滚：所有改动限于 UI 层，保留独立样式类，出现问题可快速移除背景与动效组件回到当前样式

请确认是否走“无依赖版”还是“加依赖版”（推荐加 `framer-motion` 获得更顺滑动效）。确认后我将一次性完成全部改造并验证效果。
